<?xml version="1.0" encoding="utf-8"?>
<odoo>
     <record id="lcc_cyclos_partner_form" model="ir.ui.view">
        <field name="name">lcc_cyclos_partner_form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="lcc_members.main_members_view"/>
        <field eval="17" name="priority"/>
        <field name="arch" type="xml">
            <button name="toggle_active" position="before">
                <button type="object" class="oe_stat_button" icon="fa-bank" name="addCyclosUser">
                     <field name="cyclos_active" widget="boolean_button" options="{&quot;terminology&quot;: {'string_true': 'Cyclos OK', 'hover_true': 'Desactive', 'string_false': 'No Cyclos', 'hover_false': 'Active Cyclos'}}"/>
                </button>
            </button>
            <page name="accounting" position="after">
                <page name="cyclos" string="Cyclos" attrs="{'invisible': [('is_company','=',False),('parent_id','!=',False)]}">
                    <div attrs="{'invisible': [('cyclos_id', '!=', False )]}" class="bg-info">
                        <p>
                            This Numeric LCC account is not created please
                            <button name="addCyclosUser" type="object" string="Create one" class="oe_link"/>
                        </p>
                    </div>
                    <div attrs="{'invisible': [('cyclos_active', '=', True)]}" class="bg-info">
                        <p>
                            This Numeric LCC account is not validated please
                            <button name="validateCyclosUser" type="object" string="Approve it" class="oe_link"/>
                        </p>
                    </div>
                    <group attrs="{'invisible': [('cyclos_id', '=', False)]}">
                        <field name="cyclos_id" readonly="1"/>
                        <field name="cyclos_status" readonly="1"/>
                    </group>
                    <group string="debug" groups="base.group_no_one">
                        <field name="cyclos_create_response" groups="base.group_no_one"/>
                    </group>
                </page>
                <page name="cyclos_disabled" string="Cyclos" attrs="{'invisible': ['|',('is_company','=',True),('parent_id','=',False)]}">
                    <div>
                        <p>
                            LCC account related settings are managed on
                            <button name="open_commercial_member_entity" type="object" string="the parent company" class="oe_link"/>
                        </p>
                    </div>
                </page>
            </page>
        </field>
    </record>
</odoo>
