<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="portal_my_home_profile_lcc_menu" name="Portal My Home: Profile LCC Menu"
        inherit_id="partner_profiles_portal.portal_my_home_profile_menu" priority="40">
        <xpath expr="//div[@name='profiles_management']" position="inside">
            <a t-attf-href="/web/reset_password">
                <button class="btn btn-primary mb8">Reset password</button>
            </a>
        </xpath>
    </template>

    <template id="portal_my_lcc_profile" name="My Profile"
        inherit_id="partner_profiles_portal.portal_my_profile">
        <xpath expr="//div[@name='nickname']" position="after">
            <div name="website_description" t-if="profile.is_public_profile and profile.is_company">
                <br />
                <h3>Description</h3>
                <div class="row" t-attf-class="col-lg-12">
                    <div name="current_description">
                        <label>Current description:</label>
                        <div t-field="profile.website_description" />
                    </div>
                    <div name="new_description">
                        <label>New description:</label>
                        <div
                            t-attf-class="form-group #{error.get('website_description') and 'o_has_error' or ''}">
                            <textarea rows="4" name="website_description"
                                t-attf-class="form-control #{error.get('website_description') and 'is-invalid' or ''}"
                                t-att-value="website_description or profile.website_description" />
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[@name='contact_info_2']" position="after">
            <div name="website_description" t-if="profile.is_public_profile and profile.is_company">
                <br />
                <h3>Activity information</h3>
                <div name="activity_info_1" class="row">
                    <div name="industry_id"
                        t-attf-class="form-group #{error.get('industry_id') and 'o_has_error' or ''} col-xl-6">
                        <label class="col-form-label" for="industry_id">Main activity</label>
                        <select name="industry_id" t-attf-class="form-control">
                            <option value="">Activity...</option>
                            <t t-foreach="industries or []" t-as="industry">
                                <option t-att-value="industry.id"
                                    t-att-selected="industry.id == int(industry_id) if industry_id else industry.id == profile.industry_id.id">
                                    <t t-esc="industry.name" />
                                </option>
                            </t>
                        </select>
                    </div>
                    <!-- TODO: add field secondary_industry_ids -->
                    <div name="detailled_activity"
                        t-attf-class="form-group #{error.get('detailed_activity') and 'o_has_error' or ''} col-xl-6">
                        <label class="col-form-label" for="detailed_activity">Detailed activity</label>
                        <input type="text" name="detailed_activity"
                            t-attf-class="form-control #{error.get('detailed_activity') and 'is-invalid' or ''}"
                            t-att-value="detailed_activity or profile.detailed_activity" />
                    </div>
                    <div name="subscription_reason"
                        t-attf-class="form-group #{error.get('reasons_choosing_mlc') and 'o_has_error' or ''} col-xl-6">
                        <label class="col-form-label" for="reasons_choosing_mlc">Subscription reason</label>
                        <input type="text" name="reasons_choosing_mlc"
                            t-attf-class="form-control #{error.get('reasons_choosing_mlc') and 'is-invalid' or ''}"
                            t-att-value="reasons_choosing_mlc or profile.reasons_choosing_mlc" />
                    </div>
                </div>
                <div name="activity_info_2" class="row">
                    <div name="itinerant"
                        t-attf-class="form-group #{error.get('itinerant') and 'o_has_error' or ''} col-xl-6">
                        <input type="checkbox" name="itinerant"
                            t-att-value="itinerant or profile.itinerant" />
                        <label class="col-form-label" for="itinerant">Itinerant</label>
                    </div>
                    <div name="accept">
                        <div
                            t-attf-class="form-group #{(error.get('accept_coupons') or error.get('accept_digital_currency')) and 'o_has_error' or ''} col-xl-12">
                            <input type="checkbox" name="accept_coupons"
                                t-att-value="accept_coupons or profile.accept_coupons" />
                            <label class="col-form-label" for="accept_coupons">Accept coupons</label>
                            <br />
                            <input type="checkbox" name="accept_digital_currency"
                                t-att-value="accept_digital_currency or profile.accept_digital_currency" />
                            <label class="col-form-label"
                                for="accept_digital_currency">Accept digital currency</label>
                        </div>
                    </div>
                    <div name="phone_pro"
                        t-attf-class="form-group #{error.get('phone_pro') and 'o_has_error' or ''} col-xl-6">
                        <label class="col-form-label" for="phone_pro">Professional Phone</label>
                        <input type="tel" name="phone_pro"
                            t-attf-class="form-control #{error.get('phone_pro') and 'is-invalid' or ''}"
                            t-att-value="phone_pro or profile.phone_pro" />
                    </div>
                    <div name="opening_time"
                        t-attf-class="form-group #{error.get('opening_time') and 'o_has_error' or ''} col-xl-6">
                        <label class="col-form-label" for="opening_time">Opening time</label>
                        <input type="text" name="opening_time"
                            t-attf-class="form-control #{error.get('opening_time') and 'is-invalid' or ''}"
                            t-att-value="opening_time or profile.opening_time" />
                    </div>
                    <div name="discount"
                        t-attf-class="form-group #{error.get('discount') and 'o_has_error' or ''} col-xl-6">
                        <label class="col-form-label" for="discount">Discount</label>
                        <input type="text" name="discount"
                            t-attf-class="form-control #{error.get('discount') and 'is-invalid' or ''}"
                            t-att-value="discount or profile.discount" />
                    </div>
                </div>
            </div>
        </xpath>
    </template>

    <template id="portal_my_lcc_details" name="My LCC details" inherit_id="portal.portal_my_details">
        <xpath expr="//h3" position="before">
            <div class="oe_structure" id="oe_structure_portal_my_details_1" />
        </xpath>
        <xpath expr="//form" position="after">
            <div class="oe_structure" id="oe_structure_portal_my_details_2" />
        </xpath>
    </template>
</odoo>